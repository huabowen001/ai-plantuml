# æ‰“èµåŠŸèƒ½ - æ–‡ä»¶ä¿®æ”¹æ€»ç»“

æœ¬æ–‡æ¡£åˆ—å‡ºäº†ä¸ºæ·»åŠ æ‰“èµåŠŸèƒ½æ‰€åšçš„æ‰€æœ‰æ–‡ä»¶ä¿®æ”¹å’Œæ–°å¢ã€‚

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### 1. ä¸»é¡µé¢æ‰“èµç»„ä»¶

#### `src/main/webapp/components/modals/donate/donate.jsp`
- æ‰“èµæ¨¡æ€æ¡†çš„HTMLç»“æ„
- åŒ…å«æ ‡é¢˜ã€è¯´æ˜ã€æ”¶æ¬¾ç åŒºåŸŸã€å¾®ä¿¡å·æ˜¾ç¤º

#### `src/main/webapp/components/modals/donate/donate.css`
- æ‰“èµæ¨¡æ€æ¡†çš„æ ·å¼
- å“åº”å¼è®¾è®¡
- æ·±è‰²ä¸»é¢˜é€‚é…

#### `src/main/webapp/components/modals/donate/donate.js`
- æ‰“èµåŠŸèƒ½çš„JavaScripté€»è¾‘
- åˆå§‹åŒ–å‡½æ•°
- å¤åˆ¶å¾®ä¿¡å·åŠŸèƒ½
- åŠ è½½æ”¶æ¬¾ç å›¾ç‰‡
- **éœ€è¦é…ç½®**: ç¬¬5è¡Œçš„ `WECHAT_ID` å¸¸é‡

#### `src/main/webapp/components/header/donate-button.jsp`
- å³ä¸Šè§’å›ºå®šæ‰“èµæŒ‰é’®
- åŒ…å«å†…è”CSSæ ·å¼
- å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯/æ¡Œé¢ç«¯ï¼‰
- æ¸å˜èƒŒæ™¯å’ŒåŠ¨ç”»æ•ˆæœ

#### `src/main/webapp/assets/actions/donate.svg`
- æ‰“èµå›¾æ ‡ï¼ˆå¿ƒå½¢SVGï¼‰
- ç”¨äºæ‰“èµæŒ‰é’®

### 2. æ–‡æ¡£æ–‡ä»¶

#### `DONATE_SETUP.md`
- å®Œæ•´çš„é…ç½®æŒ‡å—
- åŒ…å«ä¸»é¡µé¢å’ŒAIé¡µé¢é…ç½®è¯´æ˜
- æ•…éšœæ’é™¤æŒ‡å—
- è‡ªå®šä¹‰æ ·å¼è¯´æ˜

#### `DONATE_FEATURE_DEMO.md`
- åŠŸèƒ½æ¼”ç¤ºè¯´æ˜
- è§†è§‰æ•ˆæœå±•ç¤º
- ç”¨æˆ·ä½“éªŒæµç¨‹
- æŠ€æœ¯å®ç°ç»†èŠ‚

#### `DONATE_CHANGES_SUMMARY.md`
- æœ¬æ–‡ä»¶ï¼Œä¿®æ”¹æ€»ç»“

#### `configure-donate.sh`
- å¿«é€Ÿé…ç½®è„šæœ¬
- è‡ªåŠ¨æ›¿æ¢å¾®ä¿¡å·
- å¤‡ä»½åŸæ–‡ä»¶
- æä¾›å‹å¥½çš„äº¤äº’ç•Œé¢

#### `src/main/webapp/assets/WECHAT_PAY_README.txt`
- æ”¶æ¬¾ç å›¾ç‰‡æ”¾ç½®è¯´æ˜

---

## ğŸ“ ä¿®æ”¹çš„ç°æœ‰æ–‡ä»¶

### 1. ä¸»é¡µé¢ (PlantUML Server)

#### `src/main/webapp/components/header/header.jsp`
**ä¿®æ”¹ä½ç½®**: ç¬¬8è¡Œ
```jsp
<%@ include file="/components/header/donate-button.jsp" %>
```
**ä½œç”¨**: å¼•å…¥æ‰“èµæŒ‰é’®ç»„ä»¶

#### `src/main/webapp/index.jsp`
**ä¿®æ”¹ä½ç½®**: ç¬¬39è¡Œ
```jsp
<%@ include file="/components/modals/donate/donate.jsp" %>
```
**ä½œç”¨**: å¼•å…¥æ‰“èµæ¨¡æ€æ¡†

#### `src/main/webapp/components/modals/modals.js`
**ä¿®æ”¹ä½ç½®**: ç¬¬49è¡Œ
```javascript
initDonate();
```
**ä½œç”¨**: åœ¨æ¨¡æ€æ¡†åˆå§‹åŒ–æ—¶è°ƒç”¨æ‰“èµåˆå§‹åŒ–å‡½æ•°

### 2. AIé¡µé¢ (AI PlantUML Generator)

#### `src/main/webapp/ai-plantuml.jsp`

**ä¿®æ”¹ä½ç½®1**: ç¬¬87-89è¡Œï¼ˆå¯¼èˆªæ ï¼‰
```jsp
<button class="nav-btn" onclick="openDonateModal()" title="æ‰“èµæ”¯æŒ" style="color: #ff6b6b;">
    <i class="fas fa-heart"></i> æ‰“èµ
</button>
```
**ä½œç”¨**: æ·»åŠ æ‰“èµæŒ‰é’®åˆ°å¯¼èˆªæ 

**ä¿®æ”¹ä½ç½®2**: ç¬¬255-287è¡Œï¼ˆé¡µé¢åº•éƒ¨ï¼‰
```jsp
<!-- æ‰“èµæ¨¡æ€æ¡† -->
<div id="donateModal" class="modal" style="display: none;">
    <!-- æ¨¡æ€æ¡†å†…å®¹ -->
</div>
```
**ä½œç”¨**: æ·»åŠ æ‰“èµæ¨¡æ€æ¡†HTML

#### `src/main/webapp/js/ai-app.js`

**ä¿®æ”¹ä½ç½®**: ç¬¬1438-1523è¡Œï¼ˆæ–‡ä»¶æœ«å°¾ï¼‰
```javascript
// ============= æ‰“èµåŠŸèƒ½ =============
const DONATE_WECHAT_ID = "your_wechat_id"; // éœ€è¦é…ç½®ï¼
// ... æ‰“èµç›¸å…³å‡½æ•°
```
**ä½œç”¨**: æ·»åŠ æ‰“èµåŠŸèƒ½çš„JavaScriptä»£ç 
**éœ€è¦é…ç½®**: ç¬¬1441è¡Œçš„ `DONATE_WECHAT_ID` å¸¸é‡

---

## ğŸ¯ é…ç½®è¦ç‚¹

### å¿…éœ€é…ç½®

#### 1. ä¸»é¡µé¢å¾®ä¿¡å·
**æ–‡ä»¶**: `src/main/webapp/components/modals/donate/donate.js`
**è¡Œå·**: ç¬¬5è¡Œ
```javascript
const WECHAT_ID = "your_wechat_id";  // æ”¹ä¸ºæ‚¨çš„å¾®ä¿¡å·
```

#### 2. AIé¡µé¢å¾®ä¿¡å·
**æ–‡ä»¶**: `src/main/webapp/js/ai-app.js`
**è¡Œå·**: ç¬¬1441è¡Œ
```javascript
const DONATE_WECHAT_ID = "your_wechat_id";  // æ”¹ä¸ºæ‚¨çš„å¾®ä¿¡å·
```

### å¯é€‰é…ç½®

#### 3. æ·»åŠ æ”¶æ¬¾ç å›¾ç‰‡
**è·¯å¾„**: `src/main/webapp/assets/wechat-pay.png`
**è¯´æ˜**: å¦‚ä¸æ·»åŠ ï¼Œä¼šæ˜¾ç¤ºå ä½ç¬¦æç¤º

---

## ğŸš€ å¿«é€Ÿé…ç½®æ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨é…ç½®è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
./configure-donate.sh
```

### æ–¹æ³•2: æ‰‹åŠ¨é…ç½®

1. ç¼–è¾‘ `src/main/webapp/components/modals/donate/donate.js` (ç¬¬5è¡Œ)
2. ç¼–è¾‘ `src/main/webapp/js/ai-app.js` (ç¬¬1441è¡Œ)
3. ï¼ˆå¯é€‰ï¼‰æ·»åŠ æ”¶æ¬¾ç å›¾ç‰‡åˆ° `src/main/webapp/assets/wechat-pay.png`
4. é‡æ–°ç¼–è¯‘: `mvn clean package`
5. å¯åŠ¨æœåŠ¡å™¨: `mvn jetty:run`

---

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯

- **æ–°å¢æ–‡ä»¶**: 9ä¸ª
  - ç»„ä»¶æ–‡ä»¶: 4ä¸ª
  - æ–‡æ¡£æ–‡ä»¶: 4ä¸ª
  - èµ„æºæ–‡ä»¶: 1ä¸ª

- **ä¿®æ”¹æ–‡ä»¶**: 4ä¸ª
  - JSPæ–‡ä»¶: 2ä¸ª
  - JavaScriptæ–‡ä»¶: 2ä¸ª

- **æ€»ä»£ç è¡Œæ•°**: çº¦500è¡Œ
  - JavaScript: ~200è¡Œ
  - HTML/JSP: ~150è¡Œ
  - CSS: ~100è¡Œ
  - Bash: ~50è¡Œ

---

## âœ… éªŒè¯æ£€æŸ¥æ¸…å•

### å¼€å‘ç¯å¢ƒæ£€æŸ¥
- [ ] æ‰€æœ‰æ–°æ–‡ä»¶å·²åˆ›å»º
- [ ] æ‰€æœ‰ä¿®æ”¹å·²ä¿å­˜
- [ ] å¾®ä¿¡å·å·²é…ç½®ï¼ˆä¸»é¡µé¢ï¼‰
- [ ] å¾®ä¿¡å·å·²é…ç½®ï¼ˆAIé¡µé¢ï¼‰
- [ ] æ”¶æ¬¾ç å›¾ç‰‡å·²æ·»åŠ ï¼ˆå¯é€‰ï¼‰

### ç¼–è¯‘æ£€æŸ¥
- [ ] Mavenç¼–è¯‘æˆåŠŸ: `mvn clean package`
- [ ] æ²¡æœ‰JavaScriptè¯­æ³•é”™è¯¯
- [ ] æ²¡æœ‰CSSè¯­æ³•é”™è¯¯
- [ ] æ²¡æœ‰JSPç¼–è¯‘é”™è¯¯

### åŠŸèƒ½æ£€æŸ¥
- [ ] ä¸»é¡µé¢æ‰“èµæŒ‰é’®æ˜¾ç¤º
- [ ] ä¸»é¡µé¢æ‰“èµå¼¹çª—æ­£å¸¸
- [ ] ä¸»é¡µé¢å¤åˆ¶åŠŸèƒ½æ­£å¸¸
- [ ] AIé¡µé¢æ‰“èµæŒ‰é’®æ˜¾ç¤º
- [ ] AIé¡µé¢æ‰“èµå¼¹çª—æ­£å¸¸
- [ ] AIé¡µé¢å¤åˆ¶åŠŸèƒ½æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸
- [ ] æ·±è‰²ä¸»é¢˜æ˜¾ç¤ºæ­£å¸¸

---

## ğŸ” æ–‡ä»¶ç»“æ„æ¦‚è§ˆ

```
ai-plantuml/
â”œâ”€â”€ configure-donate.sh                          # é…ç½®è„šæœ¬
â”œâ”€â”€ DONATE_SETUP.md                              # é…ç½®æŒ‡å—
â”œâ”€â”€ DONATE_FEATURE_DEMO.md                       # åŠŸèƒ½æ¼”ç¤º
â”œâ”€â”€ DONATE_CHANGES_SUMMARY.md                    # æœ¬æ–‡ä»¶
â””â”€â”€ src/main/webapp/
    â”œâ”€â”€ assets/
    â”‚   â”œâ”€â”€ actions/
    â”‚   â”‚   â””â”€â”€ donate.svg                       # æ‰“èµå›¾æ ‡
    â”‚   â”œâ”€â”€ wechat-pay.png                       # æ”¶æ¬¾ç ï¼ˆéœ€æ·»åŠ ï¼‰
    â”‚   â””â”€â”€ WECHAT_PAY_README.txt               # è¯´æ˜
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ header/
    â”‚   â”‚   â”œâ”€â”€ header.jsp                       # å·²ä¿®æ”¹
    â”‚   â”‚   â””â”€â”€ donate-button.jsp               # æ–°å¢
    â”‚   â””â”€â”€ modals/
    â”‚       â”œâ”€â”€ modals.js                        # å·²ä¿®æ”¹
    â”‚       â””â”€â”€ donate/
    â”‚           â”œâ”€â”€ donate.jsp                   # æ–°å¢
    â”‚           â”œâ”€â”€ donate.css                   # æ–°å¢
    â”‚           â””â”€â”€ donate.js                    # æ–°å¢
    â”œâ”€â”€ js/
    â”‚   â””â”€â”€ ai-app.js                            # å·²ä¿®æ”¹
    â”œâ”€â”€ index.jsp                                # å·²ä¿®æ”¹
    â””â”€â”€ ai-plantuml.jsp                          # å·²ä¿®æ”¹
```

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
1. `DONATE_SETUP.md` - è¯¦ç»†é…ç½®è¯´æ˜
2. `DONATE_FEATURE_DEMO.md` - åŠŸèƒ½æ¼”ç¤ºè¯´æ˜
3. é¡¹ç›®Issueåˆ—è¡¨

---

**å®Œæˆæ—¶é—´**: 2025-10-30
**åŠŸèƒ½çŠ¶æ€**: âœ… å·²å®Œæˆï¼Œå¾…é…ç½®å’Œæµ‹è¯•

